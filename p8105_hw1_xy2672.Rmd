---
title: "p8105_hw1_xy2672.Rmd"
author: "Xirui Yang"
output: github_document
date: "2025-09-21"
---

```{r, echo = FALSE, message = FALSE}
library(moderndive)
library(tidyverse)
```

## Problem 1ï¼š

Packages already installed in console, now loading data:

```{r}
data("early_january_weather")
```

### Dataset description:
The variables included in the dataset are:  
``r names(early_january_weather)``.  
The early january weather dataset has **`r nrow(early_january_weather)`** rows and **`r ncol(early_january_weather)`** columns.  
The mean temperature of the early january weather is **`r round(mean(pull(early_january_weather, temp)), 2)`**.

Now creating the scatterplot of temperature vs. time_hour:

```{r}
weather_scatterplot = ggplot(early_january_weather, aes(x = time_hour, y = temp, color = humid)) + geom_point()
```

The scatterplot repeatedly shows a daily cycle. Based on the scatterplot, it is clear that the temperature generally increases from Jan 1 to Jan 14. In addition, temperature tends to be higher at the noon, and lower at night. Observations from nighttime and early morning are generally more humid than those around noon as shown in the scatterplot.

Saving the scatterplot:

```{r, message = FALSE}
ggsave("Weather_scatterplot.png", plot = weather_scatterplot)
```

## Problem 2:

Set seed for reproducibility
```{r}
set.seed(1234)
```

Creating the dataframe:

```{r}
p2_df = tibble(
  vec_num = rnorm(10),
  vec_logical_gt0 = vec_num > 0,
  vec_char = c("a","b","c","d","e","f","g","x","y","z"),
  vec_factor = factor(c("red","red","red","green","green","green","green","blue","blue","blue"))
)
```

Now taking the mean of each variable in the dataframe just created:

```{r, error = TRUE}
  num_mean = mean(pull(p2_df, vec_num))
  logical_mean = mean(pull(p2_df, vec_logical_gt0))
  char_mean = mean(pull(p2_df, vec_char))
  factor_mean = mean(pull(p2_df, vec_factor))
```

Based on the warning message, it is clear that calculating mean for `vec_num` and `vec_logical_gt0` work and `vec_char` and `vec_factor` do not work.

Changing the other three variables to numeric:

```{r, error = TRUE, results = 'hide'}
  as.numeric(pull(p2_df, vec_logical_gt0))   
  as.numeric(pull(p2_df, vec_char))
  as.numeric(pull(p2_df, vec_factor))
```

Based on the numeric converting, vec_logical and vec_factor are successfully converted to numeric, but vec_char does not.  
Since in vec_logical, FALSE = 0 and TRUE = 1, this explains why mean() works on logical vectors.  
In vec_char, NAs is returned because the characters cannot be converted to numbers, so mean() cannot work.  
In vec_factor, even though it is successfully converted, the numbers represent different levels, which are categories instead of meaningful numbers, so mean() does not work.  

This means that R can calculate mean of numeric and logical vectors but not char and factor.